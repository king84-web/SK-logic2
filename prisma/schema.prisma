generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model ServiceBooking {
  id            String    @id @default(cuid())
  name          String
  email         String
  phone         String
  service       String
  message       String?
  date          DateTime?
  status        String    @default("pending")
  amount        Float?
  currency      String    @default("RWF")
  paymentId     String?
  paymentStatus String    @default("unpaid")
  paymentMethod String?
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt

  @@index([email])
  @@index([service])
  @@index([status])
  @@index([paymentStatus])
  @@index([paymentId])
}

model AcademyEnrollment {
  id            String   @id @default(cuid())
  name          String
  email         String
  phone         String
  course        String
  status        String   @default("enrolled")
  amount        Float?
  currency      String   @default("RWF")
  paymentId     String?
  paymentStatus String   @default("unpaid")
  paymentMethod String?
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@index([email])
  @@index([course])
  @@index([status])
  @@index([paymentStatus])
}

model ContactMessage {
  id        String   @id @default(cuid())
  name      String
  email     String
  subject   String
  message   String
  status    String   @default("new")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([email])
  @@index([status])
}

model HeroContent {
  id        String   @id @default(cuid())
  title     String
  subtitle  String
  mainImage String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Service {
  id          String   @id @default(cuid())
  name        String
  description String
  price       Float
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model AcademyContent {
  id        String   @id @default(cuid())
  title     String
  content   String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Testimonial {
  id        String   @id @default(cuid())
  name      String
  role      String?
  message   String
  avatar    String?
  visible   Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model News {
  id        String   @id @default(cuid())
  title     String
  slug      String   @unique
  excerpt   String?
  content   String
  image     String?
  published Boolean  @default(false)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Promo {
  id        String    @id @default(cuid())
  title     String
  code      String    @unique
  details   String?
  active    Boolean   @default(true)
  startsAt  DateTime?
  endsAt    DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
}

model GalleryImage {
  id        String   @id @default(cuid())
  src       String
  alt       String
  title     String
  category  String?
  visible   Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model PageSettings {
  id                     String   @id @default(cuid())
  pageBackgroundColor    String   @default("from-slate-950 to-slate-900")
  pageBackgroundGradient String   @default("from-slate-950 via-slate-900 to-slate-900")
  accentColor            String   @default("blue-600")
  textColor              String   @default("white")
  fontFamily             String?  @default("system-ui, -apple-system, Roboto, 'Helvetica Neue', Arial")
  baseFontSize           String?  @default("16px")
  createdAt              DateTime @default(now())
  updatedAt              DateTime @updatedAt
}
